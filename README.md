# Solana Balance API

High-performance REST API for fetching Solana wallet balances with caching, rate limiting, and authentication.

Readme.md and demo.sh has been generated by AI to speedup - You can try test cases by running demo.sh

## Features

- **High Performance**: Concurrent processing with goroutines
- **MongoDB Authentication**: Database-backed API key validation with fallback
- **Context Timeouts**: 8-second RPC timeout prevention to avoid backend stalls
- **Caching**: In-memory cache with 10-second TTL
- **Rate Limiting**: 10 requests per minute per IP
- **Panic Recovery**: Discord webhook notifications with full stack traces
- **Mutex Protection**: Prevents duplicate requests for same wallet

## API Endpoints

### POST /api/get-balance
**Headers:** `X-API-Key: your-api-key`
**Body:**
```json
{
    "wallets": ["wallet1", "wallet2"]
}
```

### GET /health
Health check endpoint

### POST /api/panic
Test panic recovery

## Quick Start

```bash
docker-compose up --build
```

## Test API Keys
- `test-api-key-1`
- `test-api-key-2` 
- `demo-key`

## Example Usage

```bash
curl -X POST http://localhost:8080/api/get-balance \
  -H "Content-Type: application/json" \
  -H "X-API-Key: test-api-key-1" \
  -d '{"wallets": ["11111111111111111111111111111112"]}'
```
